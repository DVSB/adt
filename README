This project is a set of tools used to automate the deployment of eXo products.

How to use ?
============

Prepare your environment
------------------------
Fork this project :

    git clone https://git.exoplatform.org/public/tools/adt
    
Define the environment variable ADT_DATA, which will be the path to a working directory used by ADT.

    export ADT_DATA=$HOME/adt_data
    
You can also define your settings in $HOME/.adtrc
    
You're ready to go
------------------

Deploy a server : download and configure it

    # adt.sh deploy social 1.3.0-SNAPSHOT
    
Start a server : start a deployed instance
    
    # adt.sh start social 1.3.0-SNAPSHOT

Stop a server : stop a deployed instance

    # adt.sh stop social 1.3.0-SNAPSHOT

Restart a server : restart a deployed instance

    # adt.sh restart social 1.3.0-SNAPSHOT

Undeploy a server : stop a deployed instance if already running and delete it.

    # adt.sh undeploy social 1.3.0-SNAPSHOT

List all deployed instances

    # adt.sh list

Usage
-----

usage: ./adt.sh action [product] [version] [options]

This script manages automated deployment of eXo products

ACTION :
  deploy     Deploys (Download+Configure) the server
  start      Starts the server
  stop       Stops the server
  restart    Restarts the server
  undeploy   Undeploys (Delete) the server
  list       Lists all deployed servers
  
PRODUCT (for deploy, start, stop, restart, undeploy actions) :
  gatein     eXo GateIn
  webos      eXo WebOS
  social     eXo Social
  ecms       eXo Content
  ks         eXo Knowledge
  cs         eXo Collaboration
  platform   eXo Platform

VERSION (for deploy, start, stop, restart, undeploy actions) :
  version of the product

GLOBAL OPTIONS :
  -h         Show this message  

DEPLOY OPTIONS [ environment variable to use to set a default value ] :
  -A <value> AJP Port (default: 8009) [ $DEPLOYMENT_AJP_PORT ]
  -H <value> HTTP Port (default: 8080) [ $DEPLOYMENT_HTTP_PORT ]
  -S <value> SHUTDOWN Port (default: 8005) [ $DEPLOYMENT_SHUTDOWN_PORT ]
  -R <value> RMI Registry Port for JMX (default: 10001) [ $DEPLOYMENT_RMI_REG_PORT ]
  -V <value> RMI Server Port for JMX (default: 10002) [ $DEPLOYMENT_RMI_SRV_PORT ]
  -r <value> user credentials in "username:password" format to download the server package (default: none) [ $REPO_CREDENTIALS ]
             If user credentials are set for the repository then the package is downloaded from the staging group.
  -k         Keep the current database content. By default the deployment process drops the database if it already exists.

DEPLOY/UNDEPLOY OPTIONS [ environment variable to use to set a default value ] :
  -m <value> user credentials in "username:password" format to manage the database server (default: none) [ $MYSQL_CREDENTIALS ]  
